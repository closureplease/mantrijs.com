<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Mantri As a Grunt Plugin - Mantri: Javascript Dependency System</title><link rel="stylesheet" href="/css/main.css"><link href="http://fonts.googleapis.com/css?family=Wendy+One" rel="stylesheet" type="text/css"><link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon"><!-- link(href='/rss', rel='alternate', title='Grunt Blog Feed', type='application/atom+xml')--><script src="/js/vendor/lib/modernizr.min.js"></script></head><body class="page-api page-secondary"><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a href="/" class="brand"><span class="logo">Mantri</span></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/getting-started/"><i class="icon-arrow-right"></i><span>Getting Started</span></a></li><li><a href="/api"><i class="icon-cog"></i><span>API</span></a></li></ul><form class="navbar-search pull-right"><input type="text" placeholder="Search" class="search-query"></form></div><!--.nav-collapse--></div></div></div><div class="content"><div class="container mantri-as-a-grunt-plugin"><div class="row-fluid"><div class="span9 page"><div class="hero-unit"><h1>Mantri As a Grunt Plugin</h1><p>&lt;sup&gt;<a href="/api/home">← Back to Home</a>&lt;/sup&gt;</p>
<p><em>Mantri</em> uses <a href="http://gruntjs.com/">Grunt</a> to expose the CLI API. If you are not familiar with Grunt you should have a look at the <a href="https://github.com/gruntjs/grunt/wiki/Getting-started" title="Grunt Getting Started">Grunt&#39;s Getting Started guide</a> and make sure you have installed it properly.</p>
<p>Grunt install cheat sheet:</p>
<pre><code class="lang-shell">npm install -g grunt-cli
npm install grunt --save-dev</code></pre>
<p>With Grunt and <em>Mantri</em> installed you are ready to get started. Running <code>grunt --help</code> at the command line should list the newly-installed <em>Mantri</em> tasks. In addition, <em>Mantri</em> and Grunt should be listed in package.json as a <code>devDependency</code>, which ensures that it will be installed whenever the <code>npm install</code> command is run.</p>
<h2><a class="anchor" href="/api#overview" name="overview">Overview</a></h2>
<p>Here is a quick sample of a <a href="https://github.com/gruntjs/grunt/wiki/Sample-Gruntfile" title="Grunt&#39;s Gruntfile.js">Gruntfile</a> with <em>Mantri</em> directives.</p>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>( grunt ) {

  grunt.loadNpmTasks(<span class="string">'mantri'</span>);

  grunt.initConfig({
    mantriDeps: {
      options: {
        root: <span class="string">'static'</span>
      },
      target: {
        src: <span class="string">'static/js'</span>
      }
    },
    mantriBuild: {
      target: {
        dest: <span class="string">'static/dist/app.min.js'</span>
      }
    }
  });

  <span class="comment">// Create shortcuts to main operations.</span>
  grunt.registerTask(<span class="string">'deps'</span>, [<span class="string">'mantriDeps'</span>]);
  grunt.registerTask(<span class="string">'build'</span>, [<span class="string">'mantriBuild:target'</span>]);

  <span class="comment">// the default task, when 'grunt' is executed with no options.</span>
  grunt.registerTask(<span class="string">'default'</span>, [<span class="string">'deps'</span>]);
};</code></pre>
<h2><a class="anchor" href="/api#the-mantrideps-task" name="the-mantrideps-task">The <code>mantriDeps</code> Task</a></h2>
<p>Read the details of the <a href="/api/grunt-task-mantrideps/">Grunt Task mantriDeps</a>.</p>
<h2><a class="anchor" href="/api#the-mantribuild-task" name="the-mantribuild-task">The <code>mantriBuild</code> Task</a></h2>
<p>Read the details of the <a href="/api/grunt-task-mantribuild/">Grunt Task mantriBuild</a>.</p>
<h2><a class="anchor" href="/api#the-mantriinit-task" name="the-mantriinit-task">The <code>mantriInit</code> Task</a></h2>
<p><code>mantriInit</code> does not require any configuration. It is a simple task that helps you get started with your application.</p>
<p>For now it will copy the <code>mantri.web.js</code> and <code>mantriConf.json</code> files to the folder you define. If no folder is defined then the files will be copied to the folder where your <a href="https://github.com/gruntjs/grunt/wiki/Sample-Gruntfile" title="Grunt&#39;s Gruntfile.js">Gruntfile</a> is, which typically is your project&#39;s root.</p>
<p>This is how to call <code>mantriInit</code> with no folder defined:</p>
<pre><code class="lang-shell">grunt mantriInit</code></pre>
<p>If your webroot is in folder <code>www</code>:</p>
<pre><code class="lang-shell">grunt mantriInit:www</code></pre>
<p>&lt;sup&gt;<a href="/api/#wrapper">↑ Back to Top</a>&lt;/sup&gt;</p>
<p>&lt;sup&gt;<a href="/api/home">← Back to Home</a>&lt;/sup&gt;</p>
</div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><span>Web API</span></li><li><a href="/api/the-script-element">The Script Element</a></li><li><a href="/api/goog-provide-and-require">goog provide and require</a></li><li><a href="/api/the-configuration-file">The Configuration File</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Grunt Tasks</span></li><li><a href="/api/mantri-as-a-grunt-plugin" class="active">Mantri As a Grunt Plugin</a></li><li><a href="/api/grunt-task-mantrideps">Grunt Task mantriDeps</a></li><li><a href="/api/grunt-task-mantribuild">Grunt Task mantriBuild</a></li></ul></div></div></div></div></div><footer class="master-footer"><div class="inner"><div class="container"><ul class="pull-right"><li class="social"><a href="https://github.com/closureplease/mantri" alt="Mantri on GitHub"><span>Mantri on GitHub &nbsp;</span><span class="icon-github"></span></a></li></ul><ul class="pull-left"><li>This site was built using the <a href="https://github.com/gruntjs/gruntjs.com/tree/site-0.4.0" alt="gruntjs.com repository">source, images and copy</a> of <a href="http://gruntjs.com" alt="grunt">gruntjs.com</a></li></ul></div></div></footer><script>var LIVE = !!window.location.origin.match(/mantrijs/);

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', (LIVE ? 'UA-16398858-9' : 'xxxx'), 'mantrijs.com');
ga('send', 'pageview');</script></body></html>